<section class="group-form">
  <h2 class="title">Crear / Editar Grupo</h2>
  <form (ngSubmit)="onSubmit()" #form="ngForm" class="form-grid">
    <!-- Columna izquierda -->
    <div class="form-left">
      <div class="field">
        <label for="name">Nombre del grupo</label>
        <input
          id="name"
          type="text"
          [(ngModel)]="groupName"
          name="groupName"
          required
        />
      </div>

      <div class="field">
        <label for="desc">Descripción</label>
        <input
          id="desc"
          type="text"
          [(ngModel)]="description"
          name="description"
        />
      </div>

      <div class="field">
        <label for="member">Integrantes</label>
        <select
          id="member"
          [(ngModel)]="selectedContactId"
          name="selectedContactId"
          (change)="onSelectChange()"
        >
          <option [ngValue]="null" disabled selected>Selecciona un contacto…</option>
          <option *ngFor="let c of contacts" [ngValue]="c.id">
            {{ c.name }} <ng-container *ngIf="c.phone">({{ c.phone }})</ng-container>
          </option>
        </select>
      </div>
    </div>

    <!-- Columna derecha -->
    <div class="form-right">
      <h3>Seleccionados</h3>
      <div *ngIf="selectedContacts.length === 0" class="empty">
        Ningún contacto seleccionado
      </div>

      <ul *ngIf="selectedContacts.length > 0" class="selected-list">
        <li *ngFor="let c of selectedContacts">
          <span>{{ c.name }}</span>
          <button type="button" class="remove-btn" (click)="removeContact(c.id)">×</button>
        </li>
      </ul>

      <!-- Botón debajo de seleccionados -->
      <div class="form-actions">
        <button type="submit" class="btn-primary">Guardar</button>
        <button type="button" class="btn-secondary" (click)="onCancel()">Cancelar</button>
      </div>
    </div>
  </form>
</section>