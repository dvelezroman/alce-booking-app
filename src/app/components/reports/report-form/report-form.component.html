<div class="form-container">
  <div class="field relative-container">
    <label class="label">Buscar Estudiante</label>
    <div class="control has-icons-left">
      <input
        class="input"
        [class.is-danger]="showStudentRequiredError"
        type="text"
        [(ngModel)]="searchTerm"
        (ngModelChange)="onSearchChange($event)"
        (focus)="showUserDropdown = true"
        (blur)="hideDropdown()"
        placeholder="Escribe el nombre del estudiante"
      />
      <span class="icon is-left">
        <i class="fas fa-search"></i>
      </span>
    </div>

    <div
      class="dropdown-list-fixed"
      *ngIf="showUserDropdown && filteredUsers.length > 0"
    >
      <div
        class="dropdown-item"
        *ngFor="let user of filteredUsers"
        (click)="selectUser(user)"
      >
        {{ user.firstName }} {{ user.lastName }}
      </div>
    </div>
     <p *ngIf="showStudentRequiredError" class="help is-danger">
      Debes seleccionar un estudiante.
    </p>
  </div>

  <div class="field mt-4">
    <label class="label">Fecha Desde (Opcional)</label>
    <div class="control">
      <input
        class="input"
        type="date"
        [(ngModel)]="fromDate"
        placeholder="Desde"
      />
    </div>
  </div>

  <div class="field mt-4">
    <label class="label">Fecha Hasta (Opcional)</label>
    <div class="control">
      <input
        class="input"
        type="date"
        [(ngModel)]="toDate"
        placeholder="Hasta"
      />
    </div>
  </div>
  <div class="field mt-4">
  <button class="button is-primary is-fullwidth" (click)="searchStudentProgress()">
    Buscar
  </button>
</div>
</div>