<div class="block-results">

  <div class="stage-navigation-wrapper" *ngIf="history.length > 0">
    <h3 class="student-stage-subtitle">
      {{ stageDescription }}
    </h3>
    <span class="stage-navigation-buttons">
      <button 
        class="nav-button" 
        [disabled]="!canGoPrevious" 
        [ngClass]="{ 'disabled': !canGoPrevious }"
        (click)="onPreviousStage()" 
        title="Anterior">
        <i class="fas fa-chevron-left"></i>
      </button>
      <button 
        class="nav-button" 
        [disabled]="!canGoNext" 
        [ngClass]="{ 'disabled': !canGoNext }"
        (click)="onNextStage()" 
        title="Siguiente">
        <i class="fas fa-chevron-right"></i>
      </button>
    </span>
  </div>

  <div class="table-container">
    <table class="table-results is-fullwidth" *ngIf="history.length > 0">
      <thead>
        <tr>
          <th *ngFor="let content of stageContents" [title]="content.title">
            {{ content.title }}
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td *ngFor="let content of stageContents">
            <ng-container *ngFor="let record of getRecordsByContentTitle(content.title)">
              <div *ngFor="let date of record.dates" class="record-date-entry">
                <div>{{ date | date: 'shortDate' }}</div>
                <div>{{ getInstructorName(record) }}</div>
              </div>
            </ng-container>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>