<div class="app-container">
  
  <!-- PWA Components -->
  <app-offline-indicator></app-offline-indicator>
  <app-pwa-install></app-pwa-install>
  
  <!-- Estado de conexión -->
  <div [class.show]="isOffline" class="connection-status">
    <i class="fas fa-exclamation-triangle"></i> 
    <p>Sin conexión a internet</p>
  </div>

  <!-- Main router outlet: carga login, register, dashboard. -->
  <router-outlet></router-outlet>
  <app-spinner></app-spinner>

  <!-- Modal global de conexión -->
  <app-modal
    [showModal]="modal.show"
    [message]="modal.message"
    [isError]="modal.isError"
    [isSuccess]="modal.isSuccess"
    (close)="modal.close()">
  </app-modal>
</div>