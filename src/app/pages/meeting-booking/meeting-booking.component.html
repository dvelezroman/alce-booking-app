<div class="booking-container container">
  <div class="columns is-mobile">
    <!-- Primer bloque: Información del estudiante -->
    <div class="column student-info" style="flex: 0 0 30%;">
      <div class="student-photo">
        <img src="/assets/foto usuario default.png" alt="Foto del estudiante">
      </div>
      <div class="student-name">
        <h2>{{ studentName }}</h2>
      </div>
      <div class="student-details">
        <p>{{ studentDetails }}</p>
      </div>
    </div>


 <!-- Segundo bloque Selector de mes -->
 <div class="column date-time-selection" style="flex: 0 0 30%;">
  <h3 class="title is-4">Select a date & time</h3>
  

  <div class="month-selector">
    <button class="button is-small" (click)="prevMonth()">&#60;</button>
    <span>{{ selectedMonth }} {{ selectedYear }}</span>
    <button class="button is-small" (click)="nextMonth()">&#62;</button>
  </div>


  <div class="calendar">
    <div class="calendar-header">
      <div class="calendar-day-header">Sun</div>
      <div class="calendar-day-header">Mon</div>
      <div class="calendar-day-header">Tue</div>
      <div class="calendar-day-header">Wed</div>
      <div class="calendar-day-header">Thu</div>
      <div class="calendar-day-header">Fri</div>
      <div class="calendar-day-header">Sat</div>
    </div>


    <div class="calendar-grid">
      <div 
      *ngFor="let day of currentMonthDays" 
      class="calendar-day"
      (click)="isDaySelectable(day) ? selectDay(day) : null"
      [class.selected]="selectedDay === day.day"
      [class.selectable]="isDaySelectable(day)"
      [class.unselectable]="!isDaySelectable(day)"> 
      {{ day.day }}
    </div>
    </div>
  </div>
</div>



    <!-- Tercer bloque -->
    <div class="column selected-date-time" style="flex: 0 0 30%;">

    

      <div class="time-slots">
        <div 
          class="time-slot" 
          *ngFor="let time of timeSlots" 
          (mouseenter)="showConfirm = time" 
          (mouseleave)="showConfirm = null">
          

          <div class="time-text-container">
            <span class="time-text">{{ time }}</span>
          </div>
      

          <div class="confirm-box" *ngIf="showConfirm === time" (click)="selectTimeSlot(time)">
            Confirm
          </div>
        </div>
      </div>
    </div>
  </div>
</div>







<!-- Modal -->
<div *ngIf="showModal" class="modal-overlay">
  <div class="modal-content error-modal">
    <p class="help is-danger" *ngIf="!selectedDate">Please select a date.</p> 
    <p class="help is-danger" *ngIf="!selectedTimeSlot">Please select a time slot.</p>
  </div>
</div>

<!-- Modal exitoso con botones para confirmar o cancelar -->
<div *ngIf="showSuccessModal" class="modal-overlay">
  <div class="modal-content success-modal">
    <p>Ha elegido la fecha <br> {{ selectedDayFormatted }} a las {{ selectedTimeSlot }}.</p>
    
    <!-- Botones de confirmación y cancelación -->
    <div class="modal-buttons">
      <button class="button is-success" (click)="confirmSelection()">Aceptar</button>
      <button class="button is-danger" (click)="cancelSelection()">Cancelar</button>
    </div>
  </div>
</div>