<div class="container is-fluid has-background-white centered-table-container">

   <!-- tabla -->
  <div class="table-container no-border-container">
    <table class="table is-fullwidth has-background-white is-custom-small">

      <thead style="background-color: #e0f2fa;">
        <tr>
          <th *ngIf="selectable" >
            <input type="checkbox" [checked]="selectedItems.length === data.length" (change)="selectAll($event)">
          </th>
          <th *ngFor="let col of columns" >
            {{ columnLabels[col] || col }}
          </th>
          <th *ngIf="showActions" >Acciones</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let item of paginatedData" >
          <td *ngIf="selectable" >
            <input type="checkbox" [checked]="isSelected(item)" (change)="toggleSelection(item)">
          </td>
          <td *ngFor="let col of columns" >
            <ng-container *ngIf="col === 'present'; else normalCell">
              <input
                type="checkbox"
                [checked]="item[col]"
                (change)="onActionClick('togglePresence', item)"
                [disabled]="isCheckboxDisabled(item)"
              />
            </ng-container>

            <ng-template #normalCell>
              <ng-container *ngIf="isDateField(item[col]); else showText">
                {{ item[col] | luxonDateOnly }}
              </ng-container>
              <ng-template #showText>
                {{ item[col] }}
              </ng-template>
            </ng-template>
          </td>
          <td *ngIf="showActions">
            <button
              *ngFor="let action of actions"
              class="button is-small is-light mr-1"
              [ngClass]="{
                'is-danger': action === 'delete',
                'is-info': action === 'edit'
              }"
              (click)="onActionClick(action, item)"
            >
              {{ action }}
            </button>
          </td>
        </tr>
      </tbody>

    </table>
  </div>
</div>

  <!-- Pagination -->
<div *ngIf="manualPagination && data.length > itemsPerPage" class="pagination-wrapper">
  <div class="pagination-buttons">
    <button (click)="changePage(currentPage - 1)" [disabled]="currentPage === 1">
      Anterior
    </button>
    <div class="pagination-info">
      PÃ¡gina {{ currentPage }} de {{ totalPages }}
    </div>
    <button (click)="changePage(currentPage + 1)" [disabled]="currentPage === totalPages">
      Siguiente
    </button>
  </div>
</div>
